[tox]
env_list = lint, type, py{38,39,310,311,312}
skip_missing_interpreters = true

[testenv]
deps = uv
commands = 
    uv sync --frozen
    uv run pytest {posargs}

[testenv:lint]
commands = 
    uv sync --frozen
    uv run ruff check .
    uv run ruff format --check .

[testenv:type]
commands = 
    uv sync --frozen
    uv run mypy .

[testenv:format]
commands = 
    uv sync --frozen
    uv run ruff format .
    uv run ruff check --fix .

[testenv:lock]
commands = 
    uv lock